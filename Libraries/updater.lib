Update:
	GoSub GetLatestVersion
	IniRead, UpdateVersion, build_update.ini, build, Version, 1.0
	IniRead, InstalledVersion, build.ini, build, Version, 1.0

	If % VersionCompare(UpdateVersion, InstalledVersion)=1
	{
		RSNotify("Downloading")
		FadeOut(UpdatePrompt)
		IniWrite, %UpdateVersion%, build.ini, build, PromptVersion
		StillDownloading:=true
		Sleep 2000
		WinHttp_DownloadToFile("https://github.com/Riyusso/Devers/releases/download/latest/Devers-install.exe", A_Temp . "\Devers-install.exe")
		Run, %A_Temp%\Devers-install.exe
		IniDelete, build.ini, build, PromptVersion
		VarSetCapacity(StillDownloading, 0)
	}
	Else
		RSNotify("No new versions")
return

GetLatestVersion:
	FileDelete, build_update.ini
	WinHttp_DownloadToFile("https://github.com/Riyusso/Devers/releases/download/latest/build.ini", "build_update.ini")
	lastUpdateCheck=0
return

NoUpdate:
	Gui, Submit, NoHide
	IniRead, UpdateVersion, build_update.ini, build, Version, 1.0
	IniWrite, %UpdateVersion%, build.ini, build, PromptVersion
	FadeOut(UpdatePrompt)
return

UpdateFiles:
	FileInstall, Base/launcher.exe, %A_MyDocuments%\%ScriptName%\launcher.exe, 1
	FileInstall, Base/RS.png, %A_MyDocuments%\%ScriptName%\RS.png, 1
	FileInstall, Base/RSAnimation.mp4, %A_MyDocuments%\%ScriptName%\RSAnimation.mp4, 1
	FileInstall, Base/OptionsIcon.ico, %A_MyDocuments%\%ScriptName%\OptionsIcon.ico, 1
	FileInstall, Base/RSStopped.ico, %A_MyDocuments%\%ScriptName%\RSStopped.ico, 1
	FileInstall, Base/Extensions, %A_MyDocuments%\%ScriptName%\Extensions, 1
	FileInstall, Base/Tip_small.png, %A_MyDocuments%\%ScriptName%\Tip_small.png, 1
	FileInstall, Base/Tip_medium.png, %A_MyDocuments%\%ScriptName%\Tip_medium.png, 1
	FileInstall, Base/Tip_large.png, %A_MyDocuments%\%ScriptName%\Tip_large.png, 1
	
	IfExist, *.ahk ; Update libraries aswell
	{
		IfNotExist, Libraries
			FileCreateDir, Libraries

		FileInstall, Libraries/RSNotify.lib, %A_MyDocuments%\%ScriptName%\Libraries\RSNotify.lib, 1
		FileInstall, Libraries/Functions.lib, %A_MyDocuments%\%ScriptName%\Libraries\Functions.lib, 1
		FileInstall, Libraries/Library.lib, %A_MyDocuments%\%ScriptName%\Libraries\Library.lib, 1
	}

	GoSub Migrations
	IniWrite, %FileVersion%, build.ini, build, FileVersion
return

Migrations:
return